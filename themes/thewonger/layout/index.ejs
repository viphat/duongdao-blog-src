<div class="all-posts-body">
  <!-- <h1 class="logo">
    <img src="<%- url_for('/images/logo.png') %>" alt="Blog Dương Đào Family" class="logo">
  </h1> -->

  <div class="main-content">
    <!-- Featured Category Section -->
    <div class="featured-section">
      <h1>Hôm nay tôi học được gì?</h1>
      <p>Today I learned...</p>

      <div class="featured-category-link">
        <a href="<%- url_for('/categories/Hoc') %>" class="featured-category-button">
          Xem tất cả bài viết về Học
        </a>
      </div>

      <p><a href="<%- url_for('/categories') %>">Xem tất cả chuyên mục →</a></p>
    </div>

    <%
      // Get posts from the "Học" category, sorted by date, limit to 6 posts
      var hocPosts = site.categories.findOne({name: 'Học'});
      var featuredPosts = hocPosts ? hocPosts.posts.sort('-date').limit(6).toArray() : [];

      // Function to create excerpt
      function createExcerpt(content) {
        if (!content) return '';
        var plainText = content.replace(/<[^>]*>/g, ''); // Remove HTML tags
        return plainText.length > 250 ? plainText.substring(0, 250) + '...' : plainText;
      }
    %>

    <% if (featuredPosts && featuredPosts.length > 0) { %>
      <div class="featured-posts-grid">
        <% featuredPosts.forEach(function(post) { %>
          <div class="featured-post-card">
            <a href="<%= post.permalink %>">
              <h3 class="featured-post-title">
                <%- post.title %>
              </h3>
              <div class="featured-post-meta">
                <span><%- date(post.date, 'DD/MM/YYYY') %></span>
                <% if (post.author) { %>
                  <span>Tác giả: <%= post.author %></span>
                <% } %>
              </div>
              <p class="featured-post-excerpt">
                <%= createExcerpt(post.content) %>
              </p>
              <div class="featured-post-readmore">
                Đọc tiếp →
              </div>
            </a>
          </div>
        <% }); %>
      </div>
    <% } %>
  </div>
</div>